<form name="message" #Form="ngForm">

  <mat-card>
    <mat-card-title> New Message </mat-card-title>
    <mat-card-subtitle> Complete the data to send the message </mat-card-subtitle>

    <mat-card-content >
      
      <mat-form-field appearance="outline" >
        <mat-label> Recipients: </mat-label>
        <mat-select [formControl]="usersSelected" multiple required>
          <mat-option *ngFor="let user of usersList" [value]="user">{{user.name}} {{user.surname}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field  appearance="outline">
        <mat-label> Subject </mat-label>
        <input matInput placeholder="Subject" name="subject" [(ngModel)]="messInfo.subject" required>
      </mat-form-field>

         <mat-form-field appearance="outline">
          <mat-label> Message </mat-label>
          <textarea  matInput #message maxlength="144" placeholder="Write your message" style="min-height: 100px;" 
                     name="message" [(ngModel)]="messInfo.message" required></textarea>
          <mat-hint align="start"></mat-hint>
          <mat-hint align="end">{{message.value.length}} / 144 </mat-hint>
      </mat-form-field>
    </mat-card-content>

    <mat-divider inset></mat-divider>

    <button mat-flat-button color="black" type="submit" (click)="onSubmit()" class="buttonSend">
        Send <mat-icon > send </mat-icon>
    </button>
 
    
  </mat-card>

</form>


